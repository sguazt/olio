<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE>Web20Kit Application Specifications</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice 8  (Solaris Sparc)">
	<META NAME="AUTHOR" CONTENT="Akara Sucharitakul">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Shanti Subramanyam">
	<META NAME="CHANGED" CONTENT="20081020;10144900">
	<STYLE TYPE="text/css">
	<!--
		H1 { border-top: none; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding-top: 0in; padding-bottom: 0.02in; padding-left: 0in; padding-right: 0in; font-size: 36pt }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<DIV ID="Web20Kit Workload Flow" DIR="LTR">
	<H1><A NAME="#Web20Kit Workload Flow"></A>Olio Application
	Specification</H1>
	<H2>Goals</H2>
	<P>As we anticipate submission of multiple implementations of the
	same web application, we need to ensure that each implementation
	follows certain guidelines to make the implementations equivalent.
	This document is an attempt to lay out some of the feature
	requirements for the application. This is not a full-fledged
	document but rather is intended to be used along with the PHP
	application. 
	</P>
	<H2>CSS Compatibility</H2>
	<P>All implementations of the Olio web application must use the same
	CSS, screen layout and images as the original implementations.
	Differing color schemes are encouraged as to segregate the looks of
	one implementation from the others. But beyond color, the images
	used as part of the web page decoration must all be the same.</P>
	<H2>Information shown on Web Pages</H2>
	<P>The web pages must exactly mimic the page for the current
	application. The list below only specifies the amount of data and
	the display/ordering semantics for the pages showing such data. It
	does not define the page layout which should be taken from the web
	application and style sheet directly.<BR><BR>1. Home Page</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0in">Show 10 events on each page</P>
		<UL>
			<LI><P STYLE="margin-bottom: 0in">By default, show the 10 nearest
			upcoming events.</P>
		</UL>
		<LI><P STYLE="margin-bottom: 0in">Provide options to select events
		by:</P>
		<UL>
			<LI><P STYLE="margin-bottom: 0in">zip code</P>
			<UL>
				<LI><P STYLE="margin-bottom: 0in">Shows the 10 nearest upcoming
				events</P>
				<LI><P STYLE="margin-bottom: 0in">Or the 10 farthest out events
				if descending order is chosen</P>
			</UL>
			<LI><P STYLE="margin-bottom: 0in">date</P>
			<LI><P STYLE="margin-bottom: 0in">ascending or descending order</P>
		</UL>
		<LI><P STYLE="margin-bottom: 0in">Each event shows the event image
		thumbnail, the title, and the event date</P>
		<LI><P STYLE="margin-bottom: 0in">On mouse-over, show creation date
		and summary text</P>
		<LI><P STYLE="margin-bottom: 0in">Allow pagination of 10 events,
		each.</P>
		<LI><P>Tag cloud shows 50 most popular tags. The font size for the
		tag reflects the number of reference counts. The tag cloud is
		ordered in alphabetical order.</P>
	</UL>
	<P>2. Event Page</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0in">Show the event image in full (not
		thumbnail).</P>
		<LI><P STYLE="margin-bottom: 0in">Show full event info</P>
		<LI><P STYLE="margin-bottom: 0in">Lists all signed up attendees</P>
		<LI><P STYLE="margin-bottom: 0in">If user is logged on, the user
		can choose to attend the event if he/she is not already attending.</P>
		<LI><P STYLE="margin-bottom: 0in">Show tags tagging this event.</P>
		<LI><P>Show all comments and ratings on this event.</P>
	</UL>
	<P>3. User Page</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0in">Show person image in full (not
		thumbnail)</P>
		<LI><P STYLE="margin-bottom: 0in">Show full person info</P>
		<LI><P STYLE="margin-bottom: 0in">List 10 most recently posted
		events</P>
		<LI><P STYLE="margin-bottom: 0in">List all incoming friend requests</P>
		<LI><P STYLE="margin-bottom: 0in">List all outgoing friend requests</P>
		<LI><P>Friend cloud listing all the current friends this user has
		in no particular order.</P>
	</UL>
	<H2>Use of Ajax</H2>
	<P>Ajax is used in certain areas of these significant pages to
	communicate and fetch data for a page in the background without
	having to reload the page. Currently, the Ajax requests returns an
	XML that represents the DOM tree to replace in the current document.
	The followings list the places AJAX is used in the application:<BR>1.
	Home page</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0in">Browse calendar month and year</P>
		<LI><P>Delete events from the top 10 events (if user is logged on).</P>
	</UL>
	<P>2. Event page (logged on user)</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0in">Add yourself as an attendee to an
		event</P>
		<LI><P STYLE="margin-bottom: 0in">Add and edit rating</P>
		<LI><P>Delete comments and rating</P>
	</UL>
	<P>3. User page (logged on user)</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0in">Revoke an outgoing friendship
		request</P>
		<LI><P STYLE="margin-bottom: 0in">Reject an incoming friendship
		request</P>
		<LI><P>Approve an incoming friendship request</P>
	</UL>
	<H2>Data Loading</H2>
	<P>Sample data used for performance testing is loaded by a database
	loader. The database loader controls the number of entities loaded.
	Many software frameworks provide object-relational mappers (O-R
	mappers) that prescribe certain elements in the schema and how the
	schema is broken down (i.e. Rails demands a separate record id). In
	effect, the database schema may not be exactly the same for each
	platform/implementation. However, the number of entities loaded and
	their relationship must be the same no matter what implementation is
	used.<BR><BR>The tags - and any entity dependent on the number of
	tags - do not scale linearly with the number of concurrent users.
	They use a cumulative half-logistic curve to scale. Effectively, at
	low concurrent users, such entities will scale close to linear. As
	the scale gets higher, they will gradually top off and converge to a
	predefined cardinality.<BR><BR>The following table specifies the
	number of entities loaded with the loader.&nbsp;&nbsp; Slight
	modifications to the data loader should be able to make it work with
	any platform-specific schema requirements.</P>
	<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
		<TR>
			<TD></TD>
			<TD>
				<P ALIGN=CENTER>Relationship</P>
			</TD>
			<TD>
				<P ALIGN=CENTER># of entities</P>
			</TD>
			<TD>
				<P ALIGN=RIGHT># of entities<BR>(n = 1,000)</P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Conc. users</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">n</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">n</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">1,000</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Person</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">10 x n</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">10 x n</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">10,000</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Friends</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">[2..28]/person</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">150 x n</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">150,000</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Address</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">1/person</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">10 x n</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">10,000</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Tags</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace"><U>1 - e^(-person/10000)</U></FONT><BR><FONT FACE="monospace">1
				+ e^(-person/10000)</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace"><U>1 - e^(n/1000)</U></FONT><BR><FONT FACE="monospace">1
				+ e^(n/1000)</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">2,311</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Events</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">3 x tags</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace"><U>3 x (1 - e^(n/1000))</U></FONT><BR><FONT FACE="monospace">1
				+ e^(n/1000)</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">6,933</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Event_Tag</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">[1..7]/event</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace"><U>12 x (1 - e^(n/1000))</U></FONT><BR><FONT FACE="monospace">1
				+ e^(n/1000)</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">27,732</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Attendees</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">[10..100]/event</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace"><U>165 x (1 -
				e^(n/1000))</U></FONT><BR><FONT FACE="monospace">1 + e^(n/1000)</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">381,315</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD>
				<P>Comments</P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace">[0..20]/event</FONT></P>
			</TD>
			<TD>
				<P ALIGN=CENTER><FONT FACE="monospace"><U>30 x (1 - e^(n/1000))</U></FONT><BR><FONT FACE="monospace">1
				+ e^(n/1000)</FONT></P>
			</TD>
			<TD>
				<P ALIGN=RIGHT><FONT FACE="monospace">69,330</FONT></P>
			</TD>
		</TR>
	</TABLE>
	<P><BR><I>Note: Total number of records (avg) for 1,000 concurrent
	users is 657,621.</I></P>
	<H2>File Loading</H2>
	<P>Non-structured data (images, documents) used by the application
	are stored in an unstructured filestore. By default, we assume a
	normal filesytem &ndash; either a local filesystem for small single
	webserver deployments or a distributed file system like NFS. The PHP
	implementation does include code for MogileFS but this needs to be
	tested.</P>
	<H2>Geocoder Emulator</H2>
	<P>The web application implements a mashup using web services call
	to an external Geocoder. In the Olio environment, we emulate the
	geocoder using a very simple servlet running in Tomcat. This
	Geocoder Emulator is a required component. The emulator in the
	repository should be used as is by all implementations. 
	</P>
</DIV>
</BODY>
</HTML>